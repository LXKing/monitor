<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="mmp.gps.monitor.dao.baseinfo.rectangleArea.IRectangleAreaDao">
    <select id="queryPageCount" resultType="java.lang.Integer">
        SELECT COUNT(1)
        FROM
            rectangle_region
        WHERE COMPANYID = #{param1}
          AND NAME LIKE CONCAT('%', #{param2}, '%')
    </select>
    <select id="queryPageDetail" resultType="mmp.gps.monitor.dao.baseinfo.rectangleArea.RectangleAreaInfo">
        SELECT
            ID,
            NAME,
            DEVICECATCH,
            ULLAT,
            ULLNG,
            BRLAT,
            BRLNG,
            REMARK
        FROM
            rectangle_region
        WHERE
            COMPANYID = #{param1}
          AND NAME LIKE CONCAT('%', #{param2}, '%')
        ORDER BY NAME
                 LIMIT
                 #{param3}, #{param4}
    </select>
    <select id="searchPageCount" resultType="java.lang.Integer">
        SELECT COUNT(1)
        FROM
            rectangle_region
        WHERE COMPANYID = #{param1}
          AND NAME LIKE CONCAT('%', #{param2}, '%')
    </select>
    <select id="searchPageDetail" resultType="mmp.gps.monitor.dao.baseinfo.rectangleArea.RectangleAreaInfo">
        SELECT
            ID,
            NAME,
            DEVICECATCH,
            ULLAT,
            ULLNG,
            BRLAT,
            BRLNG,
            REMARK
        FROM
            rectangle_region
        WHERE
            COMPANYID = #{param1}
          AND NAME LIKE CONCAT('%', #{param2}, '%')
        ORDER BY NAME
                 LIMIT
                 #{param3}, #{param4}
    </select>
    <insert id="create" parameterType="mmp.gps.monitor.dao.baseinfo.rectangleArea.RectangleArea">
        INSERT INTO
            rectangle_region (COMPANYID, NAME, DEVICECATCH, FLAG, ULLAT, ULLNG,
                              BRLAT,
                              BRLNG, MAXSPEED, OVERSPEEDSECONDS, STARTTIME, ENDTIME, REMARK)
        VALUES (#{companyId}, #{name}, #{deviceCatch}, #{flag}, #{ullat},
                #{ullng}, #{brlat}, #{brlng}, #{maxSpeed}, #{overspeedSeconds},
                #{startTime}, #{endTime},
                #{remark})
    </insert>
    <select id="fetch" resultType="mmp.gps.monitor.dao.baseinfo.rectangleArea.RectangleArea">
        SELECT
            ID,
            COMPANYID,
            NAME,
            DEVICECATCH,
            FLAG,
            ULLAT,
            ULLNG,
            BRLAT,
            BRLNG,
            MAXSPEED,
            OVERSPEEDSECONDS,
            STARTTIME,
            ENDTIME,
            REMARK,
            EDITTIME
        FROM
            rectangle_region
        WHERE ID = #{param1}
            LIMIT 1
    </select>
    <update id="update" parameterType="mmp.gps.monitor.dao.baseinfo.rectangleArea.RectangleArea">
        UPDATE rectangle_region
        SET
            COMPANYID        = #{companyId},
            NAME             = #{name},
            DEVICECATCH      = #{deviceCatch},
            FLAG             = #{flag},
            ULLAT            = #{ullat},
            ULLNG            = #{ullng},
            BRLAT            = #{brlat},
            BRLNG            = #{brlng},
            MAXSPEED         = #{maxSpeed},
            OVERSPEEDSECONDS = #{overspeedSeconds},
            STARTTIME        = #{startTime},
            ENDTIME          = #{endTime},
            REMARK           = #{remark}
        WHERE ID = #{id}
          AND
            EDITTIME = #{editTime}
            LIMIT 1
    </update>
    <delete id="delete">
        DELETE
        FROM rectangle_region
        WHERE ID = #{param1}
            LIMIT 1
    </delete>
    <select id="existOutId" resultType="java.lang.Boolean">
        SELECT COUNT(1)
        FROM
            rectangle_region
        WHERE NAME = #{param1}
          AND COMPANYID = #{param2}
          AND ID !=
            #{param3}
            LIMIT 1
    </select>
    <select id="exist" resultType="java.lang.Boolean">
        SELECT COUNT(1)
        FROM rectangle_region
        WHERE NAME = #{param1}
          AND COMPANYID = #{param2}
            LIMIT 1
    </select>
</mapper>
